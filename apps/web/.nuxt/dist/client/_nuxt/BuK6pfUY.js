import{m as C,d as h,y as d,z as c,A as t,F as n,c as o,G as y,H as V,I as $,J as D,B as m}from"./m7mnosZJ.js";async function b(x,i){const u=C().public.apiBase,s=await fetch(`${u}${x}`,{headers:{"content-type":"application/json"},...i});if(!s.ok){const r=await s.text().catch(()=>"");throw new Error(`API ${s.status}: ${r}`)}return s.json()}const E={style:{"max-width":"980px",margin:"0 auto",padding:"24px","font-family":"ui-sans-serif, system-ui"}},U={style:{display:"flex",gap:"12px","flex-wrap":"wrap",margin:"16px 0"}},B=["disabled"],S=["disabled"],A=["disabled"],G=["disabled"],j={style:{display:"grid","grid-template-columns":"1fr",gap:"16px"}},F={key:0},N={key:1},O={key:2},z={key:3},H={key:4,style:{color:"#b91c1c"}},L=h({__name:"index",setup(x){const i=o("S123"),a=o(!1),u=o(null),s=o(null),r=o(null),p=o(null),v=o(null),f=o(null);async function w(l){a.value=!0,u.value=null;try{await l()}catch(e){u.value=e?.message||String(e)}finally{a.value=!1}}async function I(){await w(async()=>{const l=await b(`/demo/emit?sessionId=${encodeURIComponent(i.value)}`);s.value=null,r.value=null,p.value=null,v.value=null,f.value=l})}async function _(){await w(async()=>{s.value=await b(`/views/ux.session_activity@1?sessionId=${encodeURIComponent(i.value)}`)})}async function g(){await w(async()=>{const l=await b(`/views/ux.session_summary@1?sessionId=${encodeURIComponent(i.value)}`);r.value=l.view,p.value=l.receiptId,v.value=l.receipt})}async function k(){await w(async()=>{p.value&&(f.value=await b(`/verify?receiptId=${encodeURIComponent(p.value)}`))})}return(l,e)=>(c(),d("main",E,[e[8]||(e[8]=t("h1",null,"Verifiable Inference EDA — v0.1",-1)),e[9]||(e[9]=t("p",null," Deterministic core (events→state→views) with a bounded inference plane (Inference URI + receipts). ",-1)),t("section",U,[t("button",{onClick:I,disabled:n(a)},"Emit Demo Events",8,B),t("button",{onClick:_,disabled:n(a)},"Get session_activity@1",8,S),t("button",{onClick:g,disabled:n(a)},"Get session_summary@1 (inference)",8,A),t("button",{onClick:k,disabled:n(a)||!n(p)},"Verify last receipt",8,G)]),t("section",j,[t("div",null,[e[1]||(e[1]=t("h3",null,"Session",-1)),e[2]||(e[2]=t("label",null,"sessionId:",-1)),V(t("input",{"onUpdate:modelValue":e[0]||(e[0]=R=>D(i)?i.value=R:null),style:{width:"260px","margin-left":"8px"}},null,512),[[$,n(i)]])]),n(s)?(c(),d("div",F,[e[3]||(e[3]=t("h3",null,"Deterministic View Output (session_activity@1)",-1)),t("pre",null,m(n(s)),1)])):y("",!0),n(r)?(c(),d("div",N,[e[4]||(e[4]=t("h3",null,"Inference View Output (session_summary@1)",-1)),t("pre",null,m(n(r)),1)])):y("",!0),n(v)?(c(),d("div",O,[e[5]||(e[5]=t("h3",null,"Receipt",-1)),t("pre",null,m(n(v)),1)])):y("",!0),n(f)?(c(),d("div",z,[e[6]||(e[6]=t("h3",null,"Verify Result",-1)),t("pre",null,m(n(f)),1)])):y("",!0),n(u)?(c(),d("div",H,[e[7]||(e[7]=t("h3",null,"Error",-1)),t("pre",null,m(n(u)),1)])):y("",!0)])]))}});export{L as default};
